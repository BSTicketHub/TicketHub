@model TicketHubApp.Models.ViewModels.ShopViewModel

<div class="restaurant d-flex flex-wrap mx-2 my-3 position-relative">
    <div class="img-area">
        <div class="img border-right-0 rounded-left">
        </div>
    </div>
    <div class="text-area border border-left-0 rounded-right position-relative">
        <h6 class="my-3 ml-4">@Model.ShopName</h6>
        <p class="mx-4">
            @Model.ShopIntro
        </p>
        <p class="position ml-4 mb-2"><span class="iconify mr-2" data-icon="fa-solid:map-marker-alt" data-inline="false"></span></i>@Model.City / @Model.District</p>
        <p class="address ml-4 mb-2"><span class="iconify mr-2" data-icon="whh:house" data-inline="false"></span>@Model.Address</p>
        <p class="phone ml-4 mb-2"><span class="iconify mr-2" data-icon="bx:bxs-phone" data-inline="false"></span>@Model.Phone</p>
        <p class="openTime ml-4 mb-2"><span class="iconify mr-2" data-icon="fa-solid:clock" data-inline="false"></span>@Model.Phone</p>
        <p class="show-ticket position-absolute">顯示店家票券<span class="iconify ml-1" data-icon="fe:arrow-down" data-inline="false"></span></p>

        @if (ViewBag.FavoriteShop != null && ViewBag.FavoriteShop.Contains(Model.Id))
        {
            <span shopid="@Model.Id" class="iconify position-absolute favorite" data-icon="bi:heart-fill" data-inline="false" onclick="controlFromFavorite(this)"></span>
        } else if(ViewBag.FavoriteShop != null)
        {
            <span shopid="@Model.Id" class="iconify position-absolute favorite" data-icon="bi:heart" data-inline="false" onclick="controlFromFavorite(this)"></span>
        }

    </div>
    <div class="ticket-area bg-white rounded mx-2 position-absolute">
        <div class="ticket-list">
            @foreach (var ticket in Model.Issues)
            {
                var oPrice = "TWD" + ticket.OriginalPrice.ToString();
                var dPrice = "TWD" + ticket.DiscountPrice.ToString();
                <a href="@Url.Action("ProductDescription", "ProductDescription", new { Id = ticket.Id})" class="d-block text-decoration-none text-dark">
                    <div class="ticket border-bottom w-auto d-flex py-2 mx-3 p-2">
                        <div class="img-area h-100">
                            <div class="img"></div>
                        </div>
                        <div class="text-area position-relative">
                            <h6>@ticket.Title</h6>
                            <p class="mx-2">@ticket.Memo</p>
                            <p class="oPrice position-absolute">@oPrice</p>
                            <p class="nPrice position-absolute">@dPrice</p>
                        </div>
                    </div>
                </a>
            }
        </div>
    </div>
</div>

